/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/timestampscreen_screen/TimeStampScreenViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <texts/TextKeysAndLanguages.hpp>

TimeStampScreenViewBase::TimeStampScreenViewBase()
{

    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    background.setPosition(0, 0, 480, 272);
    background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    label.setXY(48, 59);
    label.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    label.setLinespacing(0);
    label.setTypedText(touchgfx::TypedText(T___SINGLEUSE_YJ7P));

    timestamp.setXY(48, 108);
    timestamp.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    timestamp.setLinespacing(0);
    Unicode::snprintf(timestampBuffer, TIMESTAMP_SIZE, "%s", touchgfx::TypedText(T___SINGLEUSE_W9NU).getText());
    timestamp.setWildcard(timestampBuffer);
    timestamp.resizeToCurrentText();
    timestamp.setTypedText(touchgfx::TypedText(T___SINGLEUSE_CFBD));

    unit.setXY(303, 108);
    unit.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    unit.setLinespacing(0);
    unit.setTypedText(touchgfx::TypedText(T___SINGLEUSE_2ABM));

    add(__background);
    add(background);
    add(label);
    add(timestamp);
    add(unit);
}

void TimeStampScreenViewBase::setupScreen()
{

}

//Handles tick based events
void TimeStampScreenViewBase::handleTickEvent()
{
    //updateTimestamp
    //When every N tick execute C++ code
    //Execute C++ code
    unsigned int time_ms = __HAL_TIM_GET_COUNTER(&htim2)/1000;
    Unicode::snprintf(timestampBuffer, TIMESTAMP_SIZE, "%010d", time_ms);
    timestamp.invalidate();

}
